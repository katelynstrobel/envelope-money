


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Envelope Money - Checking accounts with built in envelope budgeting">
  <meta name="author" content="Envelope Money">

  <!-- OG Meta Tags to improve the way the post looks when you share the page on LinkedIn, Facebook, Google+ -->
  <meta property="og:site_name" content="Envelope Money" /> <!-- website name -->
  <meta property="og:site" content="envelopemoney.com" /> <!-- website link -->
  <meta property="og:title" content="Envelope Money"/> <!-- title shown in the actual shared post -->
  <meta property="og:description" content="Mobile-First Checking Accounts" /> <!-- description shown in the actual shared post -->
  <meta property="og:image" content="images/thumbnail.jpg" /> <!-- image link, make sure it's jpg -->
  <meta property="og:url" content="https://envelopemoney.com" /> <!-- where do you want your post to link to -->
  <meta property="og:type" content="article" />

  <!-- Website Title -->
  <title>Envelope Money - Envelope budgeting made simple</title>
  
  <!-- Styles -->
  <link href="css/styles.css" rel="stylesheet">

  
  <!-- Favicon  -->
  <link rel="icon" href="images/favicon.png">


  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-91Z5S44KXS"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-91Z5S44KXS');
  </script>

</head>
<body>

  <div id="main-container" class="fadein" style="background-image: url('images/pattern.png');">


    <div id="max-width-container">

      <img id="e-icon-img" src="images/icon.png">

      <div id="disclosure-container">
        <a class="disclosure-link" target="_blank" href="">
          ~Terms of Service
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="">
          ~Account agreement
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="disclosures/envelope-money-visa-consumer-debit-card-agreement.pdf">
          Cardholder agreement
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="">
          ~Privacy policy
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="disclosures/envelope-money-electronic-communications-agreement.pdf">
          Electronic communications agreement
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="disclosures/evolve-bank-deposit-agreement-consumer.pdf">
          Evolve Bank & Trust deposit agreement - consumer
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="disclosures/evolve-bank-trust-electronic-communication-consent.pdf">
          Evolve Bank & Trust electronic communication consent
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="">
          ~Evolve privacy policy
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="disclosures/solid-platform-terms-of-service.pdf">
          Solid platform terms of service
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="disclosures/solid-privacy-policy.pdf">
          Solid privacy policy
          <img src="images/arrow-down-circle.png">
        </a>

        <a class="disclosure-link" target="_blank" href="disclosures/solid-website-dashboard-terms-of-use.pdf">
          Solid website and dashboard terms of use
          <img src="images/arrow-down-circle.png">
        </a>
      </div>



      <div id="footer">

        <div id="footer-links">
          <div id="footer-logo-container">
            <img id="image-footer-e" src="images/e-icon.png">
            <p id="footer-logo-text">
              <b>Envelope Money</b><br/>
              services are provided by<br/>
              Envelope Money, Inc.
            </p>
          </div>

          <div class="footer-links">
            <a class="footer-link" href="https://www.reddit.com/r/EnvelopeMoney/" target="_blank">Reddit</a>
            <a class="footer-link" href="https://discord.gg/hTAQ72wz3g" target="_blank">Discord</a>
            <a class="footer-link" href="https://www.producthunt.com/posts/envelope-money" target="_blank">Product Hunt</a>
            <a class="footer-link" href="https://www.linkedin.com/company/envelope-money" target="_blank">LinkedIn</a>
          </div>
        </div>


      </div>




    </div> 
    <!--  Max width container -->


    <div id="form-backing" class="hidden" onclick="joinButtonClicked()"><!-- Sign Up Form -->
      <div id="form-container" class="form-container" onclick="event.cancelBubble=true;">
        <form id="signUpForm" onsubmit="event.preventDefault();">
            
          <h3 id="get-notified">Get notified</h3>
          <p id="get-notified-body">Sign up to be notified as soon as Envelope Money is available in the App Store</p>
          <input id="form-email" type="email" placeholder="Email address" required>

          <div class="hstack right">
            <div id="form-buttons" class="hstack right">
              <button id="cancel-button" type="reset" onclick="joinButtonClicked()">Cancel</button>
              <button id="submit-button" type="submit">Sign up</button>
            </div>

            <h3 id="form-success-text" class="hidden">You're on the waitlist!</h3>
          </div>
          <!-- <div id="smsgSubmit" class="h3 text-center hidden"></div> -->

        </form>
      </div> <!-- end of form container -->
    </div>



  </div>




  <script>

    (function() {
      addFormValidation();
      setupSlideOnView();
      setTimeout(runPageLoadedAnimations, 100);
    })();

    function runPageLoadedAnimations() {
      document.body.className += " loaded";

      // const elements = document.querySelectorAll('.slide-up-far');
      // elements.forEach(e => {
      //   e.classList.add("loaded");
      // });
    }

    // When submit happens
    function addFormValidation() {

      let form = document.querySelector('#signUpForm');
      form.addEventListener('submit', function (event) {
        event.preventDefault();
        // if the email field is valid, we let the form submit

        let isFormValid = document.querySelector('#signUpForm').checkValidity();

        // console.log("check validity..");
        // console.log(isFormValid);

        if(!isFormValid) {
            // showError();
            return false;
        }

        submitEmail();
        return false; // TODO: why is this false??
      });
    }

    function formSuccess() {
      console.log("formSuccess..");
      // // hide form

      // show success
      document.querySelector("#form-buttons").classList.add("hidden");
      document.querySelector("#form-success-text").classList.remove("hidden");
    }

    function formFailed() {
      console.log("failed..");
    }

    async function submitEmail() {
      await Promise.all([submitEmailGoogleSheets(), submitEmailCustomerIo()])
        .then(success => {
          formSuccess();
        })
        .catch(err => {
          console.log(err);
          formFailed();
        }) // 'sad'
    }

    async function submitEmailCustomerIo() {
      return new Promise(async (resolve, reject) => {
        const email = document.querySelector('#form-email').value;

        const formId = 'em_waitlist_001';

        let url = `https://track.customer.io/api/v1/forms/${formId}/submit`; // 73662474


        // {"data":{"email":"test@customer.io"}}

        // curl --request POST \
        //   --url https://track.customer.io/api/v1/forms/{{form_id}}/submit \
        //   --header "Authorization: Basic $(echo -n \
        //   b2e05987e83b906afdb4:aeab751937582656481b | base64)" \
        //   --header 'content-type: application/json' \
        //   --data '{"data":{"email":"test@customer.io"}}'

        fetch(url, {
          method: 'POST', // *GET, POST, PUT, DELETE, etc.
          // mode: 'no-cors', // no-cors, *cors, same-origin
          headers: {
            'Authorization': 'Basic YjJlMDU5ODdlODNiOTA2YWZkYjQ6YWVhYjc1MTkzNzU4MjY1NjQ4MWI=',
            // 'Content-Type': 'application/x-www-form-urlencoded'
            'content-type': 'application/json'
          },
          body: JSON.stringify({
            "data": {
              "email": email
            }
          })
        })
        .then(response => {
          console.log("finished customerIO submit");
          console.log(response);
            resolve();
        })
        .catch((error) => {
          console.log("finished customerIO submit ERR");
            console.log(error);
            reject();
        });
      });

    }

    async function submitEmailGoogleSheets() {
      return new Promise(async (resolve, reject) => {

        let email = document.querySelector('#form-email').value;

        let url = 'https://docs.google.com/forms/d/e/1FAIpQLSd7iIcmjpMEfz6d95CoSGtLxUZjAD0woT9ygu_NgaIg1vkHFg/formResponse?entry.73662474=' + email; // 73662474

        fetch(url, {
            method: 'POST', // *GET, POST, PUT, DELETE, etc.
            mode: 'no-cors', // no-cors, *cors, same-origin
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
          })
        .then(response => {
            resolve();
        })
        .catch((error) => {
            console.log(error);
            reject();
        });

      });
    }

    function joinButtonClicked() {
      document.querySelector("#form-backing").classList.toggle("hidden");
    }


    function callbackFunc(entries, observer) {
      entries.forEach(entry => {
        // console.log(entry.isIntersecting);
        // console.log(entry.target.id);

        if (entry.isIntersecting) {
          entry.target.classList.add('loaded');
        } else {
          // document.getElementById(entry.target.id).classList.add('loaded');
        }
        // var txt = entry.target.id + " visibility: " + entry.isIntersecting;
        
        // document.getElementById('log').appendChild(document.createTextNode(txt));
        // document.getElementById('log').appendChild(document.createElement("br"));
      });
    }

    function setupSlideOnView() {

      let intersectionObserverOptions = {
          root: null,
          rootMargin: '0px',
          threshold: 0.01
        };

      let observer = new IntersectionObserver(callbackFunc, intersectionObserverOptions);
      
      const elements = document.querySelectorAll('.slide-up-far');

      elements.forEach(e => {
        // console.log(screen.width);
        if (screen.width < 1000) {
          e.classList.add('loaded'); // Insta slide on mobile
        } else {
          observer.observe(e);
        }
      });
    }
    
  </script>




</body>
</html>



